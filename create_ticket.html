<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Create Ticket</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <h1>Create Ticket</h1>
    <a class="link-back" href="index.html">‚Üê Home</a>
  </header>

  <main class="container">
    <form id="ticketForm" class="card" aria-label="Create ticket form">
      <label>
        Title
        <input required id="title" name="title" placeholder="Short title (e.g. Can't login)" />
      </label>

      <label>
        Description
        <textarea required id="description" name="description" rows="6" placeholder="Describe the issue"></textarea>
      </label>

      <label>
        Priority
        <select id="priority" name="priority">
          <option value="low">Low</option>
          <option value="medium" selected>Medium</option>
          <option value="high">High</option>
        </select>
      </label>

      <label>
        Contact (email or phone)
        <input id="contact" name="contact" placeholder="you@example.com" />
      </label>

      <div class="form-actions">
        <button type="submit" class="btn">Create Ticket</button>
        <a class="btn ghost" href="tickets.html">View Tickets</a>
      </div>
    </form>
  </main>

  <script src="app.js"></script>
  <script>
    // wire up submit
    document.getElementById('ticketForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const t = document.getElementById('title').value.trim();
      const d = document.getElementById('description').value.trim();
      const p = document.getElementById('priority').value;
      const c = document.getElementById('contact').value.trim();

      if (!t || !d) {
        alert('Title and description are required.');
        return;
      }

      const id = saveTicket({
        title: t,
        description: d,
        priority: p,
        contact: c,
      });

      // go to details page
      location.href = `ticket.html?id=${encodeURIComponent(id)}`;
    });
  </script>
</body>
</html>
